{"remainingRequest":"/home/wwwroot/default/agent/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wwwroot/default/agent/src/components/TaskContent.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wwwroot/default/agent/src/components/TaskContent.vue","mtime":1576459910000},{"path":"/home/wwwroot/default/agent/node_modules/cache-loader/dist/cjs.js","mtime":1574650523951},{"path":"/home/wwwroot/default/agent/node_modules/babel-loader/lib/index.js","mtime":1574650486713},{"path":"/home/wwwroot/default/agent/node_modules/cache-loader/dist/cjs.js","mtime":1574650523951},{"path":"/home/wwwroot/default/agent/node_modules/vue-loader/lib/index.js","mtime":1574671548412}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNeUN1c3RvbWVyIGZyb20gJy4vTXlDdXN0b21lci52dWUnCmltcG9ydCBPdXRDYWxsUmVjb3JkIGZyb20gJy4vT3V0Q2FsbFJlY29yZC52dWUnCmltcG9ydCBPdXRDYWxsUmVwb3J0IGZyb20gJy4vT3V0Q2FsbFJlcG9ydC52dWUnCmltcG9ydCBQb3BTY3JlZW4gZnJvbSAnLi9Qb3BTY3JlZW4udnVlJwoKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICBjb25zdCBwYW5lcyA9IFsKICAgICAgeyB0aXRsZTogJ+aIkeeahOWuouaItycsIGNvbnRlbnQ6IE15Q3VzdG9tZXIsIGtleTogJ215Q3VzdG9tZXInLCBjbG9zYWJsZTogZmFsc2UgfSwKICAgICAgeyB0aXRsZTogJ+WkluWRvOiusOW9lScsIGNvbnRlbnQ6IE91dENhbGxSZWNvcmQsIGtleTogJ291dENhbGxSZWNvcmQnLCBjbG9zYWJsZTogZmFsc2UgfSwKICAgICAgeyB0aXRsZTogJ+WkluWRvOaKpeihqCcsIGNvbnRlbnQ6IE91dENhbGxSZXBvcnQsIGtleTogJ291dENhbGxSZXBvcnQnLCBjbG9zYWJsZTogZmFsc2UgfSwKICAgICAgeyB0aXRsZTogJzE4NzcxOTQzNjU5JywgY29udGVudDogUG9wU2NyZWVuLCBrZXk6ICc0J30sCiAgICBdOwogICAgY29uc3QgdXNlckluZm8gPSB7fTsKCiAgICByZXR1cm4gewogICAgICBhY3RpdmVLZXk6IHBhbmVzWzBdLmtleSwKICAgICAgcGFuZXMsCiAgICAgIG5ld1RhYkluZGV4OiAwLAogICAgICBzaG93OidNeUN1c3RvbWVyJywgIC8vIOWIneWni+WMlueahHBhbmUKICAgICAgdXNlckluZm86dXNlckluZm8sCiAgICB9OwogIH0sCiAgY29tcG9uZW50czp7CiAgICBNeUN1c3RvbWVyLAogIH0sCiAgbWV0aG9kczogewogICAgY2FsbGJhY2soa2V5KSB7CiAgICAgIGNvbnNvbGUubG9nKGtleSk7CiAgICB9LAogICAgb25FZGl0KHRhcmdldEtleSwgYWN0aW9uKSB7CiAgICAgIHRoaXNbYWN0aW9uXSh0YXJnZXRLZXkpOwogICAgfSwKICAgIGFkZCh1c2VySW5mbykgewogICAgICBjb25zdCBwYW5lcyA9IHRoaXMucGFuZXM7CiAgICAgIGNvbnN0IGFjdGl2ZUtleSA9IHRoaXMucGFuZXMubGVuZ3RoKzE7CiAgICAgIHBhbmVzLnB1c2goewogICAgICAgIHRpdGxlOiBgTmV3IFRhYiAke2FjdGl2ZUtleX1gLAogICAgICAgIGNvbnRlbnQ6IFBvcFNjcmVlbiwKICAgICAgICBrZXk6IGFjdGl2ZUtleSwKICAgICAgfSk7CiAgICAgIHRoaXMucGFuZXMgPSBwYW5lczsKICAgICAgdGhpcy5hY3RpdmVLZXkgPSBhY3RpdmVLZXk7CiAgICAgIHRoaXMuc2hvdyA9IFBvcFNjcmVlbgogICAgICB0aGlzLnVzZXJJbmZvID0gdXNlckluZm8KICAgIH0sCiAgICByZW1vdmUodGFyZ2V0S2V5KSB7CiAgICAgIGxldCBhY3RpdmVLZXkgPSB0aGlzLmFjdGl2ZUtleTsKICAgICAgbGV0IGxhc3RJbmRleDsKICAgICAgdGhpcy5wYW5lcy5mb3JFYWNoKChwYW5lLCBpKSA9PiB7CiAgICAgICAgaWYgKHBhbmUua2V5ID09PSB0YXJnZXRLZXkpIHsKICAgICAgICAgIGxhc3RJbmRleCA9IGkgLSAxOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIGNvbnN0IHBhbmVzID0gdGhpcy5wYW5lcy5maWx0ZXIocGFuZSA9PiBwYW5lLmtleSAhPT0gdGFyZ2V0S2V5KTsKICAgICAgaWYgKHBhbmVzLmxlbmd0aCAmJiBhY3RpdmVLZXkgPT09IHRhcmdldEtleSkgewogICAgICAgIGlmIChsYXN0SW5kZXggPj0gMCkgewogICAgICAgICAgYWN0aXZlS2V5ID0gcGFuZXNbbGFzdEluZGV4XS5rZXk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGFjdGl2ZUtleSA9IHBhbmVzWzBdLmtleTsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5wYW5lcyA9IHBhbmVzOwogICAgICB0aGlzLmFjdGl2ZUtleSA9IGFjdGl2ZUtleTsKICAgICAgdGhpcy5zaG93ID0gdGhpcy5wYW5lc1twYW5lcy5sZW5ndGgtMV1bJ2NvbnRlbnQnXTsKICAgIH0sCiAgICBjaGFuZ2UoKXsKICAgICAgdGhpcy5wYW5lcy5mb3JFYWNoKCh2KT0+ewogICAgICAgIGlmKHZbJ2tleSddPT10aGlzLmFjdGl2ZUtleSl7CiAgICAgICAgICB0aGlzLnNob3cgPSB2Wydjb250ZW50J10KICAgICAgICB9CiAgICAgIH0pCiAgICB9CiAgfSwKfTsK"},{"version":3,"sources":["TaskContent.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"TaskContent.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <a-tabs hideAdd v-model=\"activeKey\" type=\"editable-card\" @edit=\"onEdit\" @change=\"change\" :style=\"{'margin-left':'10px'}\">\r\n      <a-tab-pane v-for=\"pane in panes\" :tab=\"pane.title\" :key=\"pane.key\" :closable=\"pane.closable\">\r\n        <keep-alive>\r\n          <component :is=\"show\" :userInfo=\"userInfo\" @newPan=\"add\"></component>\r\n        </keep-alive>\r\n      </a-tab-pane>\r\n    </a-tabs>\r\n  </div>\r\n</template>\r\n<script>\r\n  import MyCustomer from './MyCustomer.vue'\r\n  import OutCallRecord from './OutCallRecord.vue'\r\n  import OutCallReport from './OutCallReport.vue'\r\n  import PopScreen from './PopScreen.vue'\r\n  \r\n  export default {\r\n    data() {\r\n      const panes = [\r\n        { title: '我的客户', content: MyCustomer, key: 'myCustomer', closable: false },\r\n        { title: '外呼记录', content: OutCallRecord, key: 'outCallRecord', closable: false },\r\n        { title: '外呼报表', content: OutCallReport, key: 'outCallReport', closable: false },\r\n        { title: '18771943659', content: PopScreen, key: '4'},\r\n      ];\r\n      const userInfo = {};\r\n\r\n      return {\r\n        activeKey: panes[0].key,\r\n        panes,\r\n        newTabIndex: 0,\r\n        show:'MyCustomer',  // 初始化的pane\r\n        userInfo:userInfo,\r\n      };\r\n    },\r\n    components:{\r\n      MyCustomer,\r\n    },\r\n    methods: {\r\n      callback(key) {\r\n        console.log(key);\r\n      },\r\n      onEdit(targetKey, action) {\r\n        this[action](targetKey);\r\n      },\r\n      add(userInfo) {\r\n        const panes = this.panes;\r\n        const activeKey = this.panes.length+1;\r\n        panes.push({\r\n          title: `New Tab ${activeKey}`,\r\n          content: PopScreen,\r\n          key: activeKey,\r\n        });\r\n        this.panes = panes;\r\n        this.activeKey = activeKey;\r\n        this.show = PopScreen\r\n        this.userInfo = userInfo\r\n      },\r\n      remove(targetKey) {\r\n        let activeKey = this.activeKey;\r\n        let lastIndex;\r\n        this.panes.forEach((pane, i) => {\r\n          if (pane.key === targetKey) {\r\n            lastIndex = i - 1;\r\n          }\r\n        });\r\n        const panes = this.panes.filter(pane => pane.key !== targetKey);\r\n        if (panes.length && activeKey === targetKey) {\r\n          if (lastIndex >= 0) {\r\n            activeKey = panes[lastIndex].key;\r\n          } else {\r\n            activeKey = panes[0].key;\r\n          }\r\n        }\r\n        this.panes = panes;\r\n        this.activeKey = activeKey;\r\n        this.show = this.panes[panes.length-1]['content'];\r\n      },\r\n      change(){\r\n        this.panes.forEach((v)=>{\r\n          if(v['key']==this.activeKey){\r\n            this.show = v['content']\r\n          }\r\n        })\r\n      }\r\n    },\r\n  };\r\n</script>"]}]}