{"remainingRequest":"/home/wwwroot/default/agent/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wwwroot/default/agent/src/views/Login.vue?vue&type=style&index=0&id=26084dc2&lang=scss&scoped=true&","dependencies":[{"path":"/home/wwwroot/default/agent/src/views/Login.vue","mtime":1575278383000},{"path":"/home/wwwroot/default/agent/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wwwroot/default/agent/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/wwwroot/default/agent/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/wwwroot/default/agent/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wwwroot/default/agent/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wwwroot/default/agent/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoudmFsaWRhdGUtY29kZSB7CiAgd2lkdGg6IDEwMCU7CiAgbGluZS1oZWlnaHQ6IDA7CiAgYm9yZGVyLXJhZGl1czogNHB4OwogIG92ZXJmbG93OiBoaWRkZW47CiAgY2FudmFzIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"validate-code\">\r\n    <canvas ref=\"canvas\" @click=\"draw\" width=\"160px\" height=\"40px\">您的浏览器不支持Canvas</canvas>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  mounted () {\r\n    this.draw()\r\n  },\r\n  props: {\r\n    codeLength: {\r\n      type: Number,\r\n      default: 4\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      codes: [],\r\n      ctx: '',\r\n      colors: ['red', 'yellow', 'blue', 'green', 'pink', 'black'],\r\n      code_Len: this.codeLength\r\n    }\r\n  },\r\n  computed: {\r\n    codeString () {\r\n      let result = ''\r\n      for (let i = 0; i < this.codes.length; i++) {\r\n        result += this.codes[i]\r\n      }\r\n      return result.toUpperCase()\r\n    }\r\n  },\r\n  watch: {\r\n    codeString: function (newValue, oldValue) {\r\n      this.$emit('change', newValue)\r\n    }\r\n  },\r\n  methods: {\r\n    generateRandom () {\r\n      this.codes = []\r\n      const chars =\r\n        'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'\r\n      const charsArr = chars.split('')\r\n      for (let i = 0; i < this.code_Len; i++) {\r\n        const num = Math.floor(Math.random() * charsArr.length)\r\n        this.codes.push(charsArr[num])\r\n      }\r\n    },\r\n    draw () {\r\n      this.generateRandom()\r\n      this.drawText()\r\n    },\r\n    drawLine () {\r\n      const lineNumber = 3 // 线条条数\r\n      const lineX = 160\r\n      const lineY = 30 // 最大线条坐标\r\n      for (let i = 0; i < lineNumber; i++) {\r\n        this.ctx.strokeStyle = this.colors[Math.floor(Math.random() * 5)]\r\n        this.ctx.beginPath()\r\n        this.ctx.moveTo(\r\n          Math.floor(Math.random() * lineX),\r\n          Math.floor(Math.random() * lineY)\r\n        )\r\n        this.ctx.lineTo(\r\n          Math.floor(Math.random() * lineX),\r\n          Math.floor(Math.random() * lineY)\r\n        )\r\n        this.ctx.stroke()\r\n      }\r\n    },\r\n    drawText () {\r\n      const canvas = this.$refs['canvas']\r\n      this.ctx = canvas.getContext('2d')\r\n      this.ctx.fillStyle = '#BFEFFF'\r\n      this.ctx.fillRect(0, 0, 160, 40)\r\n      this.ctx.font = '20px Verdana'\r\n      let x = 15\r\n      for (let i = 0; i < 4; i++) {\r\n        this.ctx.fillStyle = this.colors[Math.floor(Math.random() * 5)]\r\n        this.ctx.fillText(this.codes[i], x, 25)\r\n        x = x + 40\r\n      }\r\n      this.drawLine()\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  .validate-code {\r\n    width: 100%;\r\n    line-height: 0;\r\n    border-radius: 4px;\r\n    overflow: hidden;\r\n    canvas {\r\n      cursor: pointer;\r\n    }\r\n  }\r\n</style>"]}]}