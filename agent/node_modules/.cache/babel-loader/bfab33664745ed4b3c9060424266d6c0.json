{"remainingRequest":"/home/wwwroot/default/agent/node_modules/babel-loader/lib/index.js!/home/wwwroot/default/agent/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/wwwroot/default/agent/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/wwwroot/default/agent/src/components/TaskList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/wwwroot/default/agent/src/components/TaskList.vue","mtime":1576831321000},{"path":"/home/wwwroot/default/agent/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wwwroot/default/agent/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/wwwroot/default/agent/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/wwwroot/default/agent/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHJlcXdlc3QgZnJvbSAncmVxd2VzdCc7CmltcG9ydCAkIGZyb20gJ2pxdWVyeSc7CmltcG9ydCB7IGh0dHAgfSBmcm9tICIuLi9heGlvcy9yZXF1ZXN0LmpzIjsKdmFyIGZha2VEYXRhVXJsID0gJy9hcGkvaW5kZXgvdGFza19saXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiB0cnVlLAogICAgICBsb2FkaW5nTW9yZTogZmFsc2UsCiAgICAgIHNob3dMb2FkaW5nTW9yZTogdHJ1ZSwKICAgICAgYm9yZGVyZWQ6IHRydWUsCiAgICAgIGRhdGE6IFtdLAogICAgICBwYWdlOiAxCiAgICB9OwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5nZXREYXRhKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOyAvLyDmmK/lkKbmmL7npLrliqDovb0KCiAgICAgIF90aGlzLmRhdGEgPSByZXM7IC8vIOWKoOi9veeahOaVsOaNrgoKICAgICAgX3RoaXMucGFnZSArPSAxOyAvLyDngrnlh7vliqDovb3nmoTmrKHmlbAKCiAgICAgIGNvbnNvbGUubG9nKF90aGlzLmRhdGEpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREYXRhOiBmdW5jdGlvbiBnZXREYXRhKGNhbGxiYWNrKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CgogICAgICBpZiAoIXRva2VuKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuaW5nKCLnmbvpmYbov4fmnJ/vvIzor7fph43mlrDnmbvpmYYiKTsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICBwYXRoOiAiL2xvZ2luIiwKICAgICAgICAgICAgcXVlcnk6IHt9CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICB9KTsKCiAgICAgICAgICByZXR1cm47CiAgICAgICAgfSwgMzAwMCk7CiAgICAgIH0KCiAgICAgIHJlcXdlc3QoewogICAgICAgIHVybDogZmFrZURhdGFVcmwsCiAgICAgICAgdHlwZTogJ2pzb24nLAogICAgICAgIG1ldGhvZDogJ3Bvc3QnLAogICAgICAgIGNvbnRlbnRUeXBlOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICd0b2tlbic6IHRva2VuCiAgICAgICAgfSwKICAgICAgICBkYXRhOiB7CiAgICAgICAgICBwYWdlOiB0aGlzLnBhZ2UKICAgICAgICB9LAogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MocmVzKSB7CiAgICAgICAgICBpZiAocmVzLmNvZGUgIT09IDIwMCAmJiByZXMuY29kZSAhPT0gNDE0MDApIHsKICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTsKCiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS53YXJuaW5nKHJlcy5tc2cpOwoKICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICBwYXRoOiAiL2xvZ2luIiwKICAgICAgICAgICAgICAgIHF1ZXJ5OiB7fQogICAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSwgMzAwMCk7CiAgICAgICAgICB9IGVsc2UgaWYgKHJlcy5jb2RlID09IDQxNDAwKSB7CiAgICAgICAgICAgIF90aGlzMi4kbWVzc2FnZS53YXJuaW5nKHJlcy5tZXNzYWdlKTsKICAgICAgICAgIH0gZWxzZSBpZiAocmVzLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIGlmICghcmVzLmRhdGEubGVuZ3RoKSB7CiAgICAgICAgICAgICAgX3RoaXMyLiRtZXNzYWdlLndhcm5pbmcoJ+ayoeacieabtOWkmuaVsOaNruS6hicpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CgogICAgICAgICAgaWYgKHRva2VuKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhKTsKICAgICAgICAgICAgY2FsbGJhY2socmVzLmRhdGEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgb25Mb2FkTW9yZTogZnVuY3Rpb24gb25Mb2FkTW9yZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmdNb3JlID0gdHJ1ZTsKICAgICAgdGhpcy5nZXREYXRhKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczMuZGF0YSA9IF90aGlzMy5kYXRhLmNvbmNhdChyZXMpOwogICAgICAgIF90aGlzMy5sb2FkaW5nTW9yZSA9IGZhbHNlOwogICAgICAgIF90aGlzMy5wYWdlICs9IDE7CgogICAgICAgIF90aGlzMy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgey8vIHdpbmRvdy5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgncmVzaXplJykpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBzZWxlY3RUYXNrOiBmdW5jdGlvbiBzZWxlY3RUYXNrKGl0ZW0sIGV2ZW50KSB7CiAgICAgIC8vIGNvbnNvbGUubG9nKGl0ZW0pOwogICAgICAvLyBjb25zb2xlLmxvZyhldmVudC5jdXJyZW50VGFyZ2V0KTsKICAgICAgJChldmVudC5jdXJyZW50VGFyZ2V0KS5jc3MoJ2JhY2tncm91bmQnLCAncmdiYSgxOTksIDI1MiwgNTIsIDAuMjIpJykuc2libGluZ3MoKS5jc3MoJ2JhY2tncm91bmQnLCAnI2ZmZicpOwogICAgICAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmNzcyh7CiAgICAgICAgJ2JvcmRlci1zdHlsZSc6ICdub25lIHNvbGlkJywKICAgICAgICAnYm9yZGVyLWJvdHRvbSc6ICcxcHggc29saWQgI2U4ZThlOCcKICAgICAgfSkuc2libGluZ3MoKS5jc3MoewogICAgICAgICdib3JkZXItc3R5bGUnOiAnbm9uZSBub25lJywKICAgICAgICAnYm9yZGVyLWJvdHRvbSc6ICcxcHggc29saWQgI2U4ZThlOCcKICAgICAgfSk7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnZ2V0Q2xpY2tlZFRhc2tJbmZvJywgaXRlbSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["TaskList.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <a-list class=\"demo-loadmore-list\" :loading=\"loading\"  itemLayout=\"horizontal\" :dataSource=\"data\">\r\n    <div\r\n      v-if=\"showLoadingMore\"\r\n      slot=\"loadMore\"\r\n      :style=\"{ textAlign: 'center', 'margin-top': '32px', height: '32px', lineHeight: '32px' }\"\r\n    >\r\n      <a-spin v-if=\"loadingMore\" :style=\"{'margin-top':'20px'}\"/>\r\n      <a-button v-else @click=\"onLoadMore\">更多任务</a-button>\r\n    </div>\r\n    <a-list-item slot=\"renderItem\" slot-scope=\"item\" @click=\"selectTask(item, $event)\">\r\n        <a v-if=\"item.extenStatus == '未签入'\" slot=\"actions\"><a-tag color=\"#87d068\">{{ item.extenStatus }}</a-tag></a>\r\n        <a v-if=\"item.extenStatus == '已签入'\" slot=\"actions\"><a-tag color=\"#f50\">{{ item.extenStatus }}</a-tag></a>\r\n        <div :style=\"{'word-break': 'break-all', 'word-wrap': 'break-word', 'margin-left':'5px'}\">{{ item.name }}</div>\r\n    </a-list-item>\r\n  </a-list>\r\n</template>\r\n<script>\r\n  import reqwest from 'reqwest';\r\n  import $ from 'jquery';\r\n  import {http} from '../axios/request.js';\r\n  const fakeDataUrl = '/api/index/task_list';\r\n\r\n  export default {\r\n    data() {\r\n      return {\r\n        loading: true,\r\n        loadingMore: false,\r\n        showLoadingMore: true,\r\n        bordered: true,\r\n        data: [],\r\n        page: 1,\r\n      };\r\n    },\r\n    mounted() {\r\n      this.getData(res => {\r\n        this.loading = false; // 是否显示加载\r\n        this.data = res; // 加载的数据\r\n        this.page += 1;   // 点击加载的次数\r\n        console.log(this.data);\r\n      });\r\n    },\r\n    methods: {\r\n      getData(callback) {\r\n        let token = localStorage.getItem('token');\r\n        if(!token){\r\n          this.$message.warning(\"登陆过期，请重新登陆\")\r\n          setTimeout(() => {\r\n            this.$router.push({\r\n              path:\"/login\",\r\n              query:{\r\n              }\r\n            }).catch(err=>{console.log(err)})\r\n            return;\r\n          }, 3000);\r\n        }\r\n        reqwest({\r\n          url: fakeDataUrl,\r\n          type: 'json',\r\n          method: 'post',\r\n          contentType: 'application/x-www-form-urlencoded;charset=UTF-8',\r\n          headers:{\r\n            'token':token\r\n          },\r\n          data:{page:this.page},\r\n          success: res => {\r\n            if(res.code !== 200 && res.code !== 41400){\r\n              console.log(res);\r\n              this.$message.warning(res.msg)\r\n              setTimeout(() => {\r\n                this.$router.push({\r\n                  path:\"/login\",\r\n                  query:{\r\n                  }\r\n                }).catch(err=>{console.log(err)})\r\n                return;\r\n              }, 3000);\r\n            }else if(res.code == 41400){\r\n              this.$message.warning(res.message)\r\n            }else if(res.code == 200){\r\n              if(!res.data.length){\r\n                this.$message.warning('没有更多数据了');\r\n              }\r\n            }\r\n            if(token){\r\n              console.log(res.data)\r\n              callback(res.data);\r\n            }\r\n          },\r\n        });\r\n      },\r\n      onLoadMore() {\r\n        this.loadingMore = true;\r\n        this.getData(res => {\r\n          this.data = this.data.concat(res);\r\n          this.loadingMore = false;\r\n          this.page += 1; \r\n          this.$nextTick(() => {\r\n            // window.dispatchEvent(new Event('resize'));\r\n          });\r\n        });\r\n      },\r\n      selectTask(item, event){\r\n        // console.log(item);\r\n        // console.log(event.currentTarget);\r\n        $(event.currentTarget).css('background','rgba(199, 252, 52, 0.22)').siblings().css('background','#fff');\r\n        $(event.currentTarget).css({'border-style':'none solid','border-bottom':'1px solid #e8e8e8'}).siblings().css({'border-style':'none none','border-bottom':'1px solid #e8e8e8'});\r\n        this.$store.commit('getClickedTaskInfo',item);\r\n      },\r\n    },\r\n  };\r\n</script>\r\n<style>\r\n  .demo-loadmore-list {\r\n    height: 681px;\r\n    overflow: auto;\r\n  }\r\n  .ant-spin-dot-spin {\r\n    margin-top:10px !important;\r\n    margin-bottom:10px !important;\r\n  }\r\n  .ant-list-item:hover {\r\n    cursor:pointer\r\n  }\r\n</style>"],"sourceRoot":"src/components"}]}